import{l as h,e as _,o as n,w as d,b as e,i as v,v as L,j as C,c as u,h as U,F as k,r as S,t as o,n as x,a as y,u as p,S as g,d as b,Q as w}from"./app-CujCkvLJ.js";import{_ as $}from"./AdminLayout-Cw2MKWdw.js";import"./BaseLayout-Czs18eZX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex justify-between items-center"},N={class:"py-12"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},I={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},M={class:"p-6"},P={class:"flex flex-col sm:flex-row gap-4"},H={class:"flex-1"},O={class:"flex gap-2"},Q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},z={class:"overflow-x-auto"},R={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm font-mono font-medium text-gray-900"},K={class:"px-6 py-4 whitespace-nowrap"},W={class:"text-sm font-medium text-gray-900"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ee={class:"px-6 py-4 whitespace-nowrap"},te={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},se={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ae={class:"flex justify-end space-x-2"},oe=["onClick"],ie=["onClick"],ne={key:0,class:"px-6 py-3 border-t border-gray-200"},de={class:"flex items-center justify-between"},re={class:"text-sm text-gray-700"},le={class:"flex space-x-1"},ge={__name:"Index",props:{discountCodes:Object,filters:Object},setup(i){const m=i,r=h(m.filters.search||""),l=h(m.filters.status||""),c=h(m.filters.type||""),f=()=>{const a=new URLSearchParams;r.value&&a.append("search",r.value),l.value&&a.append("status",l.value),c.value&&a.append("type",c.value);const s="/admin/discount-codes"+(a.toString()?"?"+a.toString():"");window.location.href=s},D=a=>{confirm(`Are you sure you want to permanently delete discount code "${a.code}"? This action cannot be undone.`)&&w.delete("/admin/discount-codes/"+a.id)},A=a=>{a.status==="active"?confirm(`Are you sure you want to deactivate discount code "${a.code}"? This will stop it from being usable.`)&&w.post("/admin/discount-codes/"+a.id+"/deactivate"):confirm(`Are you sure you want to activate discount code "${a.code}"? This will make it usable again.`)&&w.post("/admin/discount-codes/"+a.id+"/activate")},T=a=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",expired:"bg-red-100 text-red-800",scheduled:"bg-yellow-100 text-yellow-800",exhausted:"bg-orange-100 text-orange-800"})[a]||"bg-gray-100 text-gray-800",V=a=>({active:"Active",inactive:"Inactive",expired:"Expired",scheduled:"Scheduled",exhausted:"Exhausted"})[a]||"Unknown",j=a=>new Date(a).toLocaleDateString();return(a,s)=>(n(),_($,null,{header:d(()=>[e("div",E,[s[4]||(s[4]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Discount Codes ",-1)),y(p(g),{href:"/admin/discount-codes/create",class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium"},{default:d(()=>s[3]||(s[3]=[b(" Create Discount Code ")])),_:1,__:[3]})])]),default:d(()=>[e("div",N,[e("div",B,[e("div",I,[e("div",M,[e("div",P,[e("div",H,[v(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),type:"text",placeholder:"Search by code, name, or description...",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",onInput:f},null,544),[[L,r.value]])]),e("div",O,[v(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.value=t),class:"border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:f},s[5]||(s[5]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"expired"},"Expired",-1),e("option",{value:"scheduled"},"Scheduled",-1)]),544),[[C,l.value]]),v(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>c.value=t),class:"border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",onChange:f},s[6]||(s[6]=[e("option",{value:""},"All Types",-1),e("option",{value:"percentage"},"Percentage",-1),e("option",{value:"fixed_amount"},"Fixed Amount",-1)]),544),[[C,c.value]])])])])]),e("div",Q,[e("div",z,[e("table",R,[s[9]||(s[9]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Code "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Name "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Value "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Usage "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",q,[(n(!0),u(k,null,S(i.discountCodes.data,t=>(n(),u("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",G,[e("div",J,o(t.code),1)]),e("td",K,[e("div",W,o(t.name),1)]),e("td",X,[e("span",{class:x(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",t.type==="percentage"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"])},o(t.type==="percentage"?"Percentage":"Fixed Amount"),3)]),e("td",Y,o(t.formatted_value),1),e("td",Z,o(t.used_count)+o(t.max_redemptions?"/"+t.max_redemptions:""),1),e("td",ee,[e("span",{class:x(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",T(t.status)])},o(V(t.status)),3)]),e("td",te,o(j(t.created_at)),1),e("td",se,[e("div",ae,[y(p(g),{href:"/admin/discount-codes/"+t.id,class:"text-blue-600 hover:text-blue-900"},{default:d(()=>s[7]||(s[7]=[b(" View ")])),_:2,__:[7]},1032,["href"]),y(p(g),{href:"/admin/discount-codes/"+t.id+"/edit",class:"text-indigo-600 hover:text-indigo-900"},{default:d(()=>s[8]||(s[8]=[b(" Edit ")])),_:2,__:[8]},1032,["href"]),e("button",{onClick:F=>A(t),class:x(t.status==="active"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900")},o(t.status==="active"?"Deactivate":"Activate"),11,oe),e("button",{onClick:F=>D(t),class:"text-red-600 hover:text-red-900"}," Delete ",8,ie)])])]))),128))])])]),i.discountCodes.links?(n(),u("div",ne,[e("div",de,[e("div",re," Showing "+o(i.discountCodes.from)+" to "+o(i.discountCodes.to)+" of "+o(i.discountCodes.total)+" results ",1),e("div",le,[(n(!0),u(k,null,S(i.discountCodes.links,t=>(n(),_(p(g),{key:t.label,href:t.url,innerHTML:t.label,class:x(["px-3 py-2 text-sm border",t.active?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"]),disabled:!t.url},null,8,["href","innerHTML","class","disabled"]))),128))])])])):U("",!0)])])])]),_:1}))}};export{ge as default};
