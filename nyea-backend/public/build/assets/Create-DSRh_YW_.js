import{x as T,l as w,s as E,c as d,o as n,a as l,u as t,g as W,w as k,b as e,S as U,d as g,f as j,i as b,h as v,F as V,r as z,t as c,j as A,v as L,n as P,p as D,k as M}from"./app-CujCkvLJ.js";import{_ as F}from"./AdminLayout-Cw2MKWdw.js";import{_ as r,b as i,a as u}from"./TextInput-BgL-P8ez.js";import{P as H}from"./PrimaryButton-B-OuZ4ev.js";import"./BaseLayout-Czs18eZX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"py-12"},K={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6 bg-white border-b border-gray-200"},Y={class:"flex items-center justify-between mb-6"},I={class:"bg-blue-50 border border-blue-200 rounded-lg p-6"},J=["value"],Q={key:0,class:"mt-3 p-3 bg-white border border-blue-200 rounded"},Z={class:"text-sm text-blue-800"},ee={class:"text-xs text-blue-600 mt-1"},se={class:"bg-amber-50 border border-amber-200 rounded-lg p-6"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},te={class:"mt-1 text-xs text-gray-600"},le={key:0},ae={key:1},re={class:"bg-green-50 border border-green-200 rounded-lg p-6"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},de={class:"md:col-span-2"},ne={class:"md:col-span-2"},ue={class:"md:col-span-2"},me={class:"mt-2 space-y-3"},pe={key:0,class:"flex items-center space-x-4"},ge={class:"flex-shrink-0"},ce=["src"],be={class:"flex items-center space-x-4"},ve={key:0},fe={key:1},ye=["disabled"],_e={class:"mt-6"},xe={class:"mt-2 space-y-2"},he={class:"flex gap-2"},ke={key:0,class:"flex flex-wrap gap-2"},we=["onClick"],Ve={class:"bg-orange-50 border border-orange-200 rounded-lg p-6"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ce={class:"mt-1 text-xs text-gray-600"},Ue={key:0,class:"font-semibold"},ze={class:"bg-purple-50 border border-purple-200 rounded-lg p-6"},Ae={class:"space-y-4"},Le={class:"flex items-center space-x-6"},Pe={class:"flex items-center"},Me={class:"flex items-center"},Ne={class:"flex items-center justify-end space-x-4"},$e={key:0},qe={key:1},De={__name:"Create",props:{workshops:Array},setup(S){const N=S,o=T({program_id:"",program_type:"essentials",location:"",city:"",country:"",country_code:"",venue_name:"",organization_logo:"",venue_address:"",location_highlights:[],date:"",time:"",timezone:"",available_spots:25,booked_spots:0,price_override:"",is_active:!0,is_featured:!1,special_notes:"",metadata:{}}),f=w(""),y=w(!1),_=w(""),C=()=>{f.value.trim()&&(o.location_highlights.push(f.value.trim()),f.value="")},$=m=>{o.location_highlights.splice(m,1)},q=async m=>{const s=m.target.files[0];if(!s)return;y.value=!0;const a=new FormData;a.append("image",s),a.append("type","organization");try{const h=await(await fetch("/admin/images/upload",{method:"POST",body:a,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}})).json();h.success?(o.organization_logo=h.data.url,_.value=h.data.url):alert("Logo upload failed: "+h.message)}catch(x){alert("Logo upload failed: "+x.message)}finally{y.value=!1}},B=()=>{o.organization_logo="",_.value=""},R=()=>{o.post(route("admin.workshop-sessions.store"))},p=E(()=>N.workshops.find(m=>m.id===parseInt(o.program_id)));return(m,s)=>(n(),d(V,null,[l(t(W),{title:"Create Workshop Session"}),l(F,null,{default:k(()=>[e("div",O,[e("div",K,[e("div",G,[e("div",X,[e("div",Y,[s[19]||(s[19]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Create Workshop Session"),e("p",{class:"text-gray-600 mt-1"},"Add a new session for a workshop in a specific location")],-1)),l(t(U),{href:m.route("admin.workshop-sessions.index"),class:"text-gray-600 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-lg transition-colors"},{default:k(()=>s[18]||(s[18]=[g(" â† Back to Sessions ")])),_:1,__:[18]},8,["href"])]),e("form",{onSubmit:j(R,["prevent"]),class:"space-y-8"},[e("div",I,[s[22]||(s[22]=e("h3",{class:"text-lg font-semibold text-blue-900 mb-4"},"ðŸŽ¯ Workshop Selection",-1)),e("div",null,[l(r,{for:"program_id",value:"Select Workshop Program"}),b(e("select",{id:"program_id","onUpdate:modelValue":s[0]||(s[0]=a=>t(o).program_id=a),class:"mt-1 block w-full border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm",required:""},[s[20]||(s[20]=e("option",{value:""},"Choose a workshop...",-1)),(n(!0),d(V,null,z(S.workshops,a=>(n(),d("option",{key:a.id,value:a.id},c(a.title)+" (Base: $"+c(a.base_price)+") ",9,J))),128))],512),[[A,t(o).program_id]]),l(i,{class:"mt-2",message:t(o).errors.program_id},null,8,["message"]),p.value?(n(),d("div",Q,[e("div",Z,[s[21]||(s[21]=e("strong",null,"Selected:",-1)),g(" "+c(p.value.title),1)]),e("div",ee," Base Price: $"+c(p.value.base_price)+" â€¢ You can override this price for this specific session ",1)])):v("",!0)])]),e("div",se,[s[24]||(s[24]=e("h3",{class:"text-lg font-semibold text-amber-900 mb-4"},"ðŸ‘‘ Program Type",-1)),e("div",oe,[e("div",null,[l(r,{for:"program_type",value:"Program Type *"}),b(e("select",{id:"program_type","onUpdate:modelValue":s[1]||(s[1]=a=>t(o).program_type=a),class:"mt-1 block w-full border-gray-300 focus:border-amber-500 focus:ring-amber-500 rounded-md shadow-sm",required:""},s[23]||(s[23]=[e("option",{value:"essentials"},"âš¡ Essentials Program",-1),e("option",{value:"mastery"},"ðŸ‘‘ Mastery Program",-1)]),512),[[A,t(o).program_type]]),l(i,{class:"mt-2",message:t(o).errors.program_type},null,8,["message"]),e("div",te,[t(o).program_type==="essentials"?(n(),d("span",le,"Standard program with core content")):v("",!0),t(o).program_type==="mastery"?(n(),d("span",ae,"Premium program with extended content and coaching - Set direct price below")):v("",!0)])])])]),e("div",re,[s[28]||(s[28]=e("h3",{class:"text-lg font-semibold text-green-900 mb-4"},"ðŸ“ Location Details",-1)),e("div",ie,[e("div",null,[l(r,{for:"location",value:"Location Name *"}),l(u,{id:"location",modelValue:t(o).location,"onUpdate:modelValue":s[2]||(s[2]=a=>t(o).location=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., NYEA Riyadh Center",required:""},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.location},null,8,["message"])]),e("div",null,[l(r,{for:"city",value:"City"}),l(u,{id:"city",modelValue:t(o).city,"onUpdate:modelValue":s[3]||(s[3]=a=>t(o).city=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Riyadh"},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.city},null,8,["message"])]),e("div",null,[l(r,{for:"country",value:"Country"}),l(u,{id:"country",modelValue:t(o).country,"onUpdate:modelValue":s[4]||(s[4]=a=>t(o).country=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Saudi Arabia"},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.country},null,8,["message"])]),e("div",null,[l(r,{for:"country_code",value:"Country Code"}),l(u,{id:"country_code",modelValue:t(o).country_code,"onUpdate:modelValue":s[5]||(s[5]=a=>t(o).country_code=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., SAU",maxlength:"3"},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.country_code},null,8,["message"])]),e("div",de,[l(r,{for:"venue_name",value:"Venue Name"}),l(u,{id:"venue_name",modelValue:t(o).venue_name,"onUpdate:modelValue":s[6]||(s[6]=a=>t(o).venue_name=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., NYEA Middle East Hub"},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.venue_name},null,8,["message"])]),e("div",ne,[l(r,{for:"venue_address",value:"Venue Address"}),b(e("textarea",{id:"venue_address","onUpdate:modelValue":s[7]||(s[7]=a=>t(o).venue_address=a),class:"mt-1 block w-full border-gray-300 focus:border-green-500 focus:ring-green-500 rounded-md shadow-sm",rows:"2",placeholder:"e.g., King Fahd Road, Riyadh 12234"},null,512),[[L,t(o).venue_address]]),l(i,{class:"mt-2",message:t(o).errors.venue_address},null,8,["message"])]),e("div",ue,[l(r,{for:"organization_logo",value:"Organization Logo"}),e("div",me,[_.value?(n(),d("div",pe,[e("div",ge,[e("img",{src:_.value,alt:"Organization Logo",class:"h-16 w-16 object-contain border border-gray-300 rounded-lg bg-white p-2"},null,8,ce)]),e("div",{class:"flex-1"},[s[25]||(s[25]=e("p",{class:"text-sm text-gray-600"},"Current organization logo",-1)),e("button",{type:"button",onClick:B,class:"mt-1 text-red-600 hover:text-red-800 text-sm"}," Remove Logo ")])])):v("",!0),e("div",be,[e("label",{for:"logo_upload",class:P(["cursor-pointer bg-white border border-gray-300 rounded-md px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500",{"opacity-50":y.value}])},[y.value?(n(),d("span",ve,"ðŸ”„ Uploading...")):(n(),d("span",fe,"ðŸ“ "+c(_.value?"Change Logo":"Upload Logo"),1))],2),e("input",{id:"logo_upload",type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp,image/svg+xml",onChange:q,class:"hidden",disabled:y.value},null,40,ye),s[26]||(s[26]=e("div",{class:"text-xs text-gray-500"},[g(" Max 2MB â€¢ JPEG, PNG, SVG, WebP supported"),e("br"),g(" Images are automatically resized to 64x64px ")],-1))])]),l(i,{class:"mt-2",message:t(o).errors.organization_logo},null,8,["message"])])]),e("div",_e,[l(r,{value:"Location Highlights"}),e("div",xe,[e("div",he,[l(u,{modelValue:f.value,"onUpdate:modelValue":s[8]||(s[8]=a=>f.value=a),type:"text",class:"flex-1",placeholder:"e.g., Arabic Language Support",onKeyup:D(C,["enter"])},null,8,["modelValue"]),e("button",{type:"button",onClick:C,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition-colors"}," Add ")]),t(o).location_highlights.length>0?(n(),d("div",ke,[(n(!0),d(V,null,z(t(o).location_highlights,(a,x)=>(n(),d("span",{key:x,class:"inline-flex items-center bg-green-100 text-green-800 text-sm px-3 py-1 rounded-full border border-green-200"},[g(" âœ¨ "+c(a)+" ",1),e("button",{type:"button",onClick:h=>$(x),class:"ml-2 text-green-600 hover:text-green-800"}," Ã— ",8,we)]))),128))])):v("",!0)]),s[27]||(s[27]=e("div",{class:"mt-1 text-xs text-gray-600"},"Add special features or benefits specific to this location",-1))])]),e("div",Ve,[s[31]||(s[31]=e("h3",{class:"text-lg font-semibold text-orange-900 mb-4"},"ðŸ“… Schedule & Capacity",-1)),e("div",Se,[e("div",null,[l(r,{for:"date",value:"Date *"}),l(u,{id:"date",modelValue:t(o).date,"onUpdate:modelValue":s[9]||(s[9]=a=>t(o).date=a),type:"date",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.date},null,8,["message"])]),e("div",null,[l(r,{for:"time",value:"Time *"}),l(u,{id:"time",modelValue:t(o).time,"onUpdate:modelValue":s[10]||(s[10]=a=>t(o).time=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., 9:00 AM - 6:00 PM EST",required:""},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.time},null,8,["message"])]),e("div",null,[l(r,{for:"timezone",value:"Timezone"}),l(u,{id:"timezone",modelValue:t(o).timezone,"onUpdate:modelValue":s[11]||(s[11]=a=>t(o).timezone=a),type:"text",class:"mt-1 block w-full",placeholder:"e.g., Asia/Riyadh"},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.timezone},null,8,["message"])]),e("div",null,[l(r,{for:"available_spots",value:"Available Spots *"}),l(u,{id:"available_spots",modelValue:t(o).available_spots,"onUpdate:modelValue":s[12]||(s[12]=a=>t(o).available_spots=a),type:"number",min:"1",max:"1000",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),l(i,{class:"mt-2",message:t(o).errors.available_spots},null,8,["message"])]),e("div",null,[l(r,{for:"booked_spots",value:"Already Booked"}),l(u,{id:"booked_spots",modelValue:t(o).booked_spots,"onUpdate:modelValue":s[13]||(s[13]=a=>t(o).booked_spots=a),type:"number",min:"0",class:"mt-1 block w-full"},null,8,["modelValue"]),s[29]||(s[29]=e("div",{class:"mt-1 text-xs text-gray-600"},"Usually starts at 0 for new sessions",-1)),l(i,{class:"mt-2",message:t(o).errors.booked_spots},null,8,["message"])]),e("div",null,[l(r,{for:"price_override",value:"Session Price Override"}),l(u,{id:"price_override",modelValue:t(o).price_override,"onUpdate:modelValue":s[14]||(s[14]=a=>t(o).price_override=a),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",placeholder:p.value?`Leave empty to use base price ($${p.value.base_price})`:"Override workshop base price"},null,8,["modelValue","placeholder"]),e("div",Ce,[s[30]||(s[30]=g(" Leave empty to use the workshop's base price ")),p.value?(n(),d("span",Ue,"($"+c(p.value.base_price)+")",1)):v("",!0)]),l(i,{class:"mt-2",message:t(o).errors.price_override},null,8,["message"])])])]),e("div",ze,[s[34]||(s[34]=e("h3",{class:"text-lg font-semibold text-purple-900 mb-4"},"âš™ï¸ Additional Settings",-1)),e("div",Ae,[e("div",null,[l(r,{for:"special_notes",value:"Special Notes"}),b(e("textarea",{id:"special_notes","onUpdate:modelValue":s[15]||(s[15]=a=>t(o).special_notes=a),class:"mt-1 block w-full border-gray-300 focus:border-purple-500 focus:ring-purple-500 rounded-md shadow-sm",rows:"3",placeholder:"Any special information about this session location..."},null,512),[[L,t(o).special_notes]]),l(i,{class:"mt-2",message:t(o).errors.special_notes},null,8,["message"])]),e("div",Le,[e("label",Pe,[b(e("input",{"onUpdate:modelValue":s[16]||(s[16]=a=>t(o).is_active=a),type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"},null,512),[[M,t(o).is_active]]),s[32]||(s[32]=e("span",{class:"ml-2 text-sm text-gray-700"},"Active Session",-1))]),e("label",Me,[b(e("input",{"onUpdate:modelValue":s[17]||(s[17]=a=>t(o).is_featured=a),type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50"},null,512),[[M,t(o).is_featured]]),s[33]||(s[33]=e("span",{class:"ml-2 text-sm text-gray-700"},"Featured Session â­",-1))])])])]),e("div",Ne,[l(t(U),{href:m.route("admin.workshop-sessions.index"),class:"bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-2 px-6 rounded-lg transition-colors"},{default:k(()=>s[35]||(s[35]=[g(" Cancel ")])),_:1,__:[35]},8,["href"]),l(H,{class:P({"opacity-25":t(o).processing}),disabled:t(o).processing},{default:k(()=>[t(o).processing?(n(),d("span",$e,"Creating...")):(n(),d("span",qe,"ðŸš€ Create Workshop Session"))]),_:1},8,["class","disabled"])])],32)])])])])]),_:1})],64))}};export{De as default};
