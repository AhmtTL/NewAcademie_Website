import{x as v,e as k,o as d,w as b,b as t,f as w,c as l,h as n,i,u as r,n as m,v as u,t as a,j as x,k as _,a as c,S as f,d as y}from"./app-CujCkvLJ.js";import{_ as U}from"./AdminLayout-Cw2MKWdw.js";import"./BaseLayout-Czs18eZX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"flex justify-between items-center"},V={class:"py-12"},C={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},S={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={key:0,class:"mt-2 text-sm text-red-600"},A={key:0,class:"mt-2 text-sm text-red-600"},F={key:0,class:"mt-2 text-sm text-red-600"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},q={key:0,class:"mt-2 text-sm text-red-600"},M={class:"mt-1 relative rounded-md shadow-sm"},N={key:0,class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},T=["max","placeholder"],h={key:1,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},P={key:0,class:"mt-2 text-sm text-red-600"},j={key:0},L={key:0,class:"mt-2 text-sm text-red-600"},z={class:"border-t border-gray-200 pt-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},R={class:"mt-1 relative rounded-md shadow-sm"},$={key:0,class:"mt-2 text-sm text-red-600"},G={key:0,class:"mt-2 text-sm text-red-600"},I={class:"border-t border-gray-200 pt-6"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={key:0,class:"mt-2 text-sm text-red-600"},J={key:0,class:"mt-2 text-sm text-red-600"},K={class:"border-t border-gray-200 pt-6"},Q={class:"flex items-center"},W={class:"border-t border-gray-200 pt-6 flex justify-end space-x-3"},X=["disabled"],oe={__name:"Create",setup(Y){const s=v({code:"",name:"",description:"",type:"percentage",value:"",currency:"USD",min_amount:"",max_redemptions:"",starts_at:"",expires_at:"",is_active:!0}),g=()=>{console.log("Form submission started",s.data()),console.log("Form errors before submit:",s.errors),s.post("/admin/discount-codes",{onError:p=>{console.log("Form submission errors:",p)},onSuccess:()=>{console.log("Form submitted successfully")},onBefore:()=>{console.log("Form submission starting...")},onFinish:()=>{console.log("Form submission finished")}})};return(p,e)=>(d(),k(U,null,{header:b(()=>[t("div",D,[e[13]||(e[13]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Create Discount Code ",-1)),c(r(f),{href:p.route("admin.discount-codes.index"),class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md text-sm font-medium"},{default:b(()=>e[12]||(e[12]=[y(" Back to List ")])),_:1,__:[12]},8,["href"])])]),default:b(()=>[t("div",V,[t("div",C,[t("div",S,[t("form",{onSubmit:w(g,["prevent"]),class:"p-6 space-y-6"},[t("div",null,[e[14]||(e[14]=t("label",{for:"code",class:"block text-sm font-medium text-gray-700"}," Discount Code * ",-1)),i(t("input",{id:"code","onUpdate:modelValue":e[0]||(e[0]=o=>r(s).code=o),type:"text",required:"",placeholder:"e.g., SAVE20",pattern:"[A-Za-z0-9_-]+",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.code}]),onInput:e[1]||(e[1]=o=>r(s).code=o.target.value.replace(/[^A-Za-z0-9_-]/g,""))},null,34),[[u,r(s).code]]),r(s).errors.code?(d(),l("p",B,a(r(s).errors.code),1)):n("",!0),e[15]||(e[15]=t("p",{class:"mt-2 text-sm text-gray-500"}," Code will be automatically converted to uppercase. Use letters, numbers, hyphens (-), and underscores (_) only. No spaces allowed. ",-1))]),t("div",null,[e[16]||(e[16]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Display Name * ",-1)),i(t("input",{id:"name","onUpdate:modelValue":e[2]||(e[2]=o=>r(s).name=o),type:"text",required:"",placeholder:"e.g., 20% Off Summer Sale",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.name}])},null,2),[[u,r(s).name]]),r(s).errors.name?(d(),l("p",A,a(r(s).errors.name),1)):n("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),i(t("textarea",{id:"description","onUpdate:modelValue":e[3]||(e[3]=o=>r(s).description=o),rows:"3",placeholder:"Optional description for internal use",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.description}])},null,2),[[u,r(s).description]]),r(s).errors.description?(d(),l("p",F,a(r(s).errors.description),1)):n("",!0)]),t("div",E,[t("div",null,[e[19]||(e[19]=t("label",{for:"type",class:"block text-sm font-medium text-gray-700"}," Discount Type * ",-1)),i(t("select",{id:"type","onUpdate:modelValue":e[4]||(e[4]=o=>r(s).type=o),required:"",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.type}])},e[18]||(e[18]=[t("option",{value:"percentage"},"Percentage",-1),t("option",{value:"fixed_amount"},"Fixed Amount",-1)]),2),[[x,r(s).type]]),r(s).errors.type?(d(),l("p",q,a(r(s).errors.type),1)):n("",!0)]),t("div",null,[e[22]||(e[22]=t("label",{for:"value",class:"block text-sm font-medium text-gray-700"}," Discount Value * ",-1)),t("div",M,[r(s).type==="fixed_amount"?(d(),l("div",N,e[20]||(e[20]=[t("span",{class:"text-gray-500 sm:text-sm"},"$",-1)]))):n("",!0),i(t("input",{id:"value","onUpdate:modelValue":e[5]||(e[5]=o=>r(s).value=o),type:"number",step:"0.01",min:"0",max:r(s).type==="percentage"?100:void 0,required:"",placeholder:r(s).type==="percentage"?"e.g., 20":"e.g., 50.00",class:m(["block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",[{"border-red-500":r(s).errors.value},r(s).type==="fixed_amount"?"pl-7":""]])},null,10,T),[[u,r(s).value]]),r(s).type==="percentage"?(d(),l("div",h,e[21]||(e[21]=[t("span",{class:"text-gray-500 sm:text-sm"},"%",-1)]))):n("",!0)]),r(s).errors.value?(d(),l("p",P,a(r(s).errors.value),1)):n("",!0)])]),r(s).type==="fixed_amount"?(d(),l("div",j,[e[24]||(e[24]=t("label",{for:"currency",class:"block text-sm font-medium text-gray-700"}," Currency * ",-1)),i(t("select",{id:"currency","onUpdate:modelValue":e[6]||(e[6]=o=>r(s).currency=o),required:"",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.currency}])},e[23]||(e[23]=[t("option",{value:"USD"},"USD - US Dollar",-1),t("option",{value:"EUR"},"EUR - Euro",-1),t("option",{value:"GBP"},"GBP - British Pound",-1),t("option",{value:"CAD"},"CAD - Canadian Dollar",-1)]),2),[[x,r(s).currency]]),r(s).errors.currency?(d(),l("p",L,a(r(s).errors.currency),1)):n("",!0)])):n("",!0),t("div",z,[e[30]||(e[30]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Business Rules",-1)),t("div",O,[t("div",null,[e[26]||(e[26]=t("label",{for:"min_amount",class:"block text-sm font-medium text-gray-700"}," Minimum Order Amount ",-1)),t("div",R,[e[25]||(e[25]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),i(t("input",{id:"min_amount","onUpdate:modelValue":e[7]||(e[7]=o=>r(s).min_amount=o),type:"number",step:"0.01",min:"0",placeholder:"0.00",class:m(["pl-7 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.min_amount}])},null,2),[[u,r(s).min_amount]])]),r(s).errors.min_amount?(d(),l("p",$,a(r(s).errors.min_amount),1)):n("",!0),e[27]||(e[27]=t("p",{class:"mt-2 text-sm text-gray-500"}," Leave empty for no minimum requirement ",-1))]),t("div",null,[e[28]||(e[28]=t("label",{for:"max_redemptions",class:"block text-sm font-medium text-gray-700"}," Maximum Uses ",-1)),i(t("input",{id:"max_redemptions","onUpdate:modelValue":e[8]||(e[8]=o=>r(s).max_redemptions=o),type:"number",min:"1",placeholder:"Unlimited",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.max_redemptions}])},null,2),[[u,r(s).max_redemptions]]),r(s).errors.max_redemptions?(d(),l("p",G,a(r(s).errors.max_redemptions),1)):n("",!0),e[29]||(e[29]=t("p",{class:"mt-2 text-sm text-gray-500"}," Total number of times this code can be used ",-1))])])]),t("div",I,[e[35]||(e[35]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Validity Period",-1)),t("div",Z,[t("div",null,[e[31]||(e[31]=t("label",{for:"starts_at",class:"block text-sm font-medium text-gray-700"}," Start Date & Time ",-1)),i(t("input",{id:"starts_at","onUpdate:modelValue":e[9]||(e[9]=o=>r(s).starts_at=o),type:"datetime-local",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.starts_at}])},null,2),[[u,r(s).starts_at]]),r(s).errors.starts_at?(d(),l("p",H,a(r(s).errors.starts_at),1)):n("",!0),e[32]||(e[32]=t("p",{class:"mt-2 text-sm text-gray-500"}," Leave empty to start immediately ",-1))]),t("div",null,[e[33]||(e[33]=t("label",{for:"expires_at",class:"block text-sm font-medium text-gray-700"}," Expiry Date & Time ",-1)),i(t("input",{id:"expires_at","onUpdate:modelValue":e[10]||(e[10]=o=>r(s).expires_at=o),type:"datetime-local",class:m(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":r(s).errors.expires_at}])},null,2),[[u,r(s).expires_at]]),r(s).errors.expires_at?(d(),l("p",J,a(r(s).errors.expires_at),1)):n("",!0),e[34]||(e[34]=t("p",{class:"mt-2 text-sm text-gray-500"}," Leave empty for no expiry ",-1))])])]),t("div",K,[t("div",Q,[i(t("input",{id:"is_active","onUpdate:modelValue":e[11]||(e[11]=o=>r(s).is_active=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[_,r(s).is_active]]),e[36]||(e[36]=t("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Active ",-1))]),e[37]||(e[37]=t("p",{class:"mt-2 text-sm text-gray-500"}," Inactive codes cannot be used by customers ",-1))]),t("div",W,[c(r(f),{href:p.route("admin.discount-codes.index"),class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:b(()=>e[38]||(e[38]=[y(" Cancel ")])),_:1,__:[38]},8,["href"]),t("button",{type:"submit",disabled:r(s).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},a(r(s).processing?"Creating...":"Create Discount Code"),9,X)])],32)])])])]),_:1}))}};export{oe as default};
