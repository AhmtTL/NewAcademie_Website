import{x as h,e as D,o as l,w as u,b as e,f as _,t as i,i as c,c as b,h as g,n as y,u as s,v,d as m,k as U,a as w,S as C}from"./app-CujCkvLJ.js";import{_ as V}from"./AdminLayout-Cw2MKWdw.js";import"./BaseLayout-Czs18eZX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"flex justify-between items-center"},N={class:"font-semibold text-xl text-gray-800 leading-tight"},j={class:"py-12"},S={class:"max-w-3xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},E={class:"mt-1 block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-500"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},q={class:"mt-1 block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-500"},A={class:"mt-1 block w-full px-3 py-2 bg-gray-50 border border-gray-300 rounded-md text-gray-500"},I={key:0,class:"mt-2 text-sm text-red-600"},$={key:0,class:"mt-2 text-sm text-red-600"},z={class:"bg-gray-50 p-4 rounded-lg"},F={class:"text-sm text-gray-600"},L={class:"font-medium"},O={key:0},P={class:"font-medium"},R={class:"flex items-center"},G={class:"border-t border-gray-200 pt-6 flex justify-end space-x-3"},H=["disabled"],X={__name:"Edit",props:{discountCode:{type:Object,required:!0}},setup(d){var x,f,p;const a=d,o=h({name:((x=a.discountCode)==null?void 0:x.name)||"",description:((f=a.discountCode)==null?void 0:f.description)||"",is_active:((p=a.discountCode)==null?void 0:p.is_active)??!0}),k=()=>{var r;o.patch(route("admin.discount-codes.update",(r=a.discountCode)==null?void 0:r.id))};return(r,t)=>(l(),D(V,null,{header:u(()=>[e("div",B,[e("h2",N," Edit Discount Code: "+i(d.discountCode.code),1),w(s(C),{href:r.route("admin.discount-codes.index"),class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md text-sm font-medium"},{default:u(()=>t[3]||(t[3]=[m(" Back to List ")])),_:1,__:[3]},8,["href"])])]),default:u(()=>[e("div",j,[e("div",S,[e("div",T,[e("form",{onSubmit:_(k,["prevent"]),class:"p-6 space-y-6"},[e("div",null,[t[4]||(t[4]=e("label",{class:"block text-sm font-medium text-gray-700"}," Discount Code ",-1)),e("div",E,i(d.discountCode.code),1),t[5]||(t[5]=e("p",{class:"mt-2 text-sm text-gray-500"}," Discount codes cannot be changed after creation ",-1))]),e("div",M,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium text-gray-700"}," Discount Type ",-1)),e("div",q,i(d.discountCode.type==="percentage"?"Percentage":"Fixed Amount"),1)]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700"}," Discount Value ",-1)),e("div",A,i(d.discountCode.type==="percentage"?d.discountCode.value+"%":"$"+d.discountCode.value),1)])]),e("div",null,[t[8]||(t[8]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Display Name * ",-1)),c(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=n=>s(o).name=n),type:"text",required:"",class:y(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":s(o).errors.name}])},null,2),[[v,s(o).name]]),s(o).errors.name?(l(),b("p",I,i(s(o).errors.name),1)):g("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description ",-1)),c(e("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=n=>s(o).description=n),rows:"3",class:y(["mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",{"border-red-500":s(o).errors.description}])},null,2),[[v,s(o).description]]),s(o).errors.description?(l(),b("p",$,i(s(o).errors.description),1)):g("",!0)]),e("div",z,[t[12]||(t[12]=e("h3",{class:"text-sm font-medium text-gray-900 mb-2"},"Usage Information",-1)),e("div",F,[e("p",null,[t[10]||(t[10]=m("Times Used: ")),e("span",L,i(d.discountCode.used_count),1)]),d.discountCode.max_redemptions?(l(),b("p",O,[t[11]||(t[11]=m(" Remaining Uses: ")),e("span",P,i(d.discountCode.max_redemptions-d.discountCode.used_count),1)])):g("",!0)])]),e("div",null,[e("div",R,[c(e("input",{id:"is_active","onUpdate:modelValue":t[2]||(t[2]=n=>s(o).is_active=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[U,s(o).is_active]]),t[13]||(t[13]=e("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Active ",-1))]),t[14]||(t[14]=e("p",{class:"mt-2 text-sm text-gray-500"}," Inactive codes cannot be used by customers ",-1))]),e("div",G,[w(s(C),{href:r.route("admin.discount-codes.index"),class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:u(()=>t[15]||(t[15]=[m(" Cancel ")])),_:1,__:[15]},8,["href"]),e("button",{type:"submit",disabled:s(o).processing,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},i(s(o).processing?"Updating...":"Update Discount Code"),9,H)])],32)])])])]),_:1}))}};export{X as default};
