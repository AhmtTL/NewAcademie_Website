import{_ as F}from"./AdminLayout-Cw2MKWdw.js";import{c as r,o as s,n as k,b as t,e as S,w as C,d as w,u as _,S as V,h as x,t as f,F as p,r as B,s as $,a as z,y as D,z as P,l as L,m as A,Q as I,g as U,A as O}from"./app-CujCkvLJ.js";import"./BaseLayout-Czs18eZX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex items-center justify-center"},N={__name:"LoadingSpinner",props:{size:{type:String,default:"md"},color:{type:String,default:"blue"}},setup(e){const b={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},c={blue:"text-blue-600",gray:"text-gray-400",white:"text-white"};return(v,y)=>(s(),r("div",E,[(s(),r("svg",{class:k(["animate-spin",b[e.size],c[e.color]]),fill:"none",viewBox:"0 0 24 24"},y[0]||(y[0]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2))]))}},T={class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},R={class:"flex-1 flex justify-between sm:hidden"},q={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400"},H={key:3,class:"ml-3 relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-400"},J={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Q={key:0},G={class:"text-sm text-gray-700"},K={class:"font-medium"},W={class:"font-medium"},X={class:"font-medium"},Y={key:1},Z={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ee={key:1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},te={key:3,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-gray-100 text-sm font-medium text-gray-400"},se={key:0,class:"relative inline-flex items-center px-4 py-2 border border-blue-500 bg-blue-50 text-sm font-medium text-blue-600","aria-current":"page"},le={key:5,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},ae={__name:"Pagination",props:{links:{type:Array,required:!0},meta:{type:Object,required:!0},showStats:{type:Boolean,default:!0}},setup(e){const b=e,c=h=>{if(!h)return null;const o=h.match(/page=(\d+)/);return o?parseInt(o[1]):1},v=h=>h.active,y=(h,o)=>o===0||o===b.links.length-1?!0:h.active||Math.abs(c(h.url)-b.meta.current_page)<=2;return(h,o)=>(s(),r("div",T,[t("div",R,[e.meta.prev_page_url?(s(),S(_(V),{key:0,href:e.meta.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:C(()=>o[0]||(o[0]=[w(" Previous ")])),_:1,__:[0]},8,["href"])):(s(),r("div",q," Previous ")),e.meta.next_page_url?(s(),S(_(V),{key:2,href:e.meta.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors"},{default:C(()=>o[1]||(o[1]=[w(" Next ")])),_:1,__:[1]},8,["href"])):(s(),r("div",H," Next "))]),t("div",J,[e.showStats?(s(),r("div",Q,[t("p",G,[o[2]||(o[2]=w(" Showing ")),t("span",K,f(e.meta.from||0),1),o[3]||(o[3]=w(" to ")),t("span",W,f(e.meta.to||0),1),o[4]||(o[4]=w(" of ")),t("span",X,f(e.meta.total||0),1),o[5]||(o[5]=w(" results "))])])):x("",!0),e.links&&e.links.length>3?(s(),r("div",Y,[t("nav",Z,[(s(!0),r(p,null,B(e.links,(d,n)=>(s(),r(p,{key:n},[n===0&&d.url?(s(),S(_(V),{key:0,href:d.url,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors","aria-label":"Previous page"},{default:C(()=>o[6]||(o[6]=[t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])),_:2,__:[6]},1032,["href"])):n===0?(s(),r("span",ee,o[7]||(o[7]=[t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)]))):n===e.links.length-1&&d.url?(s(),S(_(V),{key:2,href:d.url,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors","aria-label":"Next page"},{default:C(()=>o[8]||(o[8]=[t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])),_:2,__:[8]},1032,["href"])):n===e.links.length-1?(s(),r("span",te,o[9]||(o[9]=[t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)]))):y(d,n)?(s(),r(p,{key:4},[v(d)?(s(),r("span",se,f(d.label),1)):d.url?(s(),S(_(V),{key:1,href:d.url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"},{default:C(()=>[w(f(d.label),1)]),_:2},1032,["href"])):x("",!0)],64)):!y(d,n)&&(n<e.links.length/2&&c(d.url)<e.meta.current_page-2||n>e.links.length/2&&c(d.url)>e.meta.current_page+2)?(s(),r("span",le," ... ")):x("",!0)],64))),128))])])):x("",!0)])]))}},re={class:"bg-white shadow overflow-hidden sm:rounded-lg"},oe={key:0,class:"relative"},ne={class:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10"},ie={class:"overflow-x-auto"},de={class:"bg-gray-50"},ue=["onClick"],ce={class:"flex items-center space-x-1"},ye={key:0,class:"text-gray-400"},ge={key:0,class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},be={class:"bg-white divide-y divide-gray-200"},me={key:0},fe=["colspan"],he={class:"text-gray-500"},xe={class:"mt-2 text-sm"},ve={key:2,class:"flex items-center"},pe={class:"flex-shrink-0 h-10 w-10"},ke=["src","alt"],we={key:1,class:"h-10 w-10 rounded-full bg-gray-400 flex items-center justify-center"},$e={class:"text-sm font-medium text-white"},Ce={key:0,class:"ml-4"},_e={class:"text-sm font-medium text-gray-900"},Se={key:0,class:"text-sm text-gray-500"},Be={key:3},Ve={key:0,class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ze={class:"flex justify-end space-x-2"},je=["onClick","disabled"],Ie={__name:"DataTable",props:{items:{type:Object,required:!0},columns:{type:Array,required:!0},actions:{type:Array,default:()=>[]},isLoading:{type:Boolean,default:!1},emptyMessage:{type:String,default:"No data available"},striped:{type:Boolean,default:!0},hover:{type:Boolean,default:!0}},emits:["action"],setup(e,{emit:b}){const c=e,v=b,y=$(()=>{var i;return((i=c.items)==null?void 0:i.data)&&c.items.data.length>0}),h=$(()=>({"min-w-full divide-y divide-gray-200":!0})),o=$(()=>({"hover:bg-gray-50":c.hover})),d=(i,l)=>{v("action",{action:i,item:l})},n=(i,l)=>{if(l.render)return l.render(i);const m=a(i,l.key);return l.type==="currency"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(m||0):l.type==="date"?m?new Date(m).toLocaleDateString():"-":l.type==="badge"?m:m||"-"},a=(i,l)=>l.split(".").reduce((m,u)=>m==null?void 0:m[u],i);return(i,l)=>{var m;return s(),r("div",re,[e.isLoading?(s(),r("div",oe,[t("div",ne,[z(N)])])):x("",!0),t("div",ie,[t("table",{class:k(h.value)},[t("thead",de,[t("tr",null,[(s(!0),r(p,null,B(e.columns,u=>(s(),r("th",{key:u.key,class:k(["px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",u.sortable?"cursor-pointer hover:bg-gray-100":""]),onClick:M=>u.sortable&&i.$emit("sort",u.key)},[t("div",ce,[t("span",null,f(u.label),1),u.sortable?(s(),r("span",ye,l[0]||(l[0]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd","fill-rule":"evenodd"})],-1)]))):x("",!0)])],10,ue))),128)),e.actions.length>0?(s(),r("th",ge," Actions ")):x("",!0)])]),t("tbody",be,[!y.value&&!e.isLoading?(s(),r("tr",me,[t("td",{colspan:e.columns.length+(e.actions.length>0?1:0),class:"px-6 py-12 text-center"},[t("div",he,[l[1]||(l[1]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("p",xe,f(e.emptyMessage),1)])],8,fe)])):x("",!0),(s(!0),r(p,null,B(((m=e.items)==null?void 0:m.data)||[],(u,M)=>(s(),r("tr",{key:u.id||M,class:k([o.value,e.striped&&M%2===1?"bg-gray-50":""])},[(s(!0),r(p,null,B(e.columns,g=>(s(),r("td",{key:g.key,class:k(["px-6 py-4 whitespace-nowrap",g.class||"text-sm text-gray-900"])},[D(i.$slots,`cell-${g.key}`,{item:u,value:a(u,g.key),column:g},()=>{var j;return[g.type==="badge"?(s(),r("span",{key:0,class:k(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",((j=g.badgeClass)==null?void 0:j.call(g,a(u,g.key)))||"bg-gray-100 text-gray-800"])},f(n(u,g)),3)):g.type==="link"?(s(),S(_(V),{key:1,href:g.linkHref(u),class:k(g.linkClass||"text-blue-600 hover:text-blue-900")},{default:C(()=>[w(f(n(u,g)),1)]),_:2},1032,["href","class"])):g.type==="avatar"?(s(),r("div",ve,[t("div",pe,[a(u,g.key)?(s(),r("img",{key:0,class:"h-10 w-10 rounded-full",src:a(u,g.key),alt:u.name||"Avatar"},null,8,ke)):(s(),r("div",we,[t("span",$e,f((u.name||u.title||"U").charAt(0).toUpperCase()),1)]))]),g.showName?(s(),r("div",Ce,[t("div",_e,f(u.name||u.title),1),u.email?(s(),r("div",Se,f(u.email),1)):x("",!0)])):x("",!0)])):(s(),r("span",Be,f(n(u,g)),1))]})],2))),128)),e.actions.length>0?(s(),r("td",Ve,[t("div",ze,[(s(!0),r(p,null,B(e.actions,g=>{var j;return s(),r("button",{key:g.key,onClick:gt=>d(g.key,u),class:k(["text-sm font-medium",g.class||"text-blue-600 hover:text-blue-900"]),disabled:(j=g.disabled)==null?void 0:j.call(g,u)},f(g.label),11,je)}),128))])])):x("",!0)],2))),128))])],2)]),y.value&&e.items.links?(s(),S(ae,{key:1,links:e.items.links,meta:e.items},null,8,["links","meta"])):x("",!0)])}}},Le={class:"bg-white p-6 border-b border-gray-200"},Me={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4"},Ae={class:"flex-1 max-w-lg"},De={class:"relative"},Ne=["value","placeholder","disabled"],Fe={class:"flex flex-wrap items-center gap-3"},Pe={key:0,class:"min-w-0"},Ue=["for"],Oe=["id","value","onChange","disabled"],Ee={value:""},Te=["value"],Re={key:1,class:"flex items-center space-x-2"},qe=["value","onInput","disabled"],He=["value","onInput","disabled"],Je={key:2,class:"flex items-center space-x-2"},Qe=["value","onInput","placeholder","disabled"],Ge=["value","onInput","placeholder","disabled"],Ke={key:3,class:"flex items-center"},We=["id","checked","onChange","disabled"],Xe=["for"],Ye=["disabled"],Ze={key:0,class:"mt-4 flex flex-wrap items-center gap-2"},et={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},tt=["onClick"],st={__name:"SearchFilter",props:{modelValue:{type:Object,default:()=>({})},searchPlaceholder:{type:String,default:"Search..."},filters:{type:Array,default:()=>[]},showReset:{type:Boolean,default:!0},isLoading:{type:Boolean,default:!1}},emits:["update:modelValue","reset"],setup(e,{emit:b}){const c=e,v=b;$({get:()=>c.modelValue,set:d=>v("update:modelValue",d)});const y=(d,n)=>{v("update:modelValue",{...c.modelValue,[d]:n})},h=()=>{v("reset")},o=$(()=>Object.values(c.modelValue).some(d=>d!==""&&d!==null&&d!==void 0));return(d,n)=>(s(),r("div",Le,[t("div",Me,[t("div",Ae,[n[2]||(n[2]=t("label",{for:"search",class:"sr-only"},"Search",-1)),t("div",De,[n[1]||(n[1]=t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[t("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),t("input",{id:"search",value:e.modelValue.search||"",onInput:n[0]||(n[0]=a=>y("search",a.target.value)),type:"text",placeholder:e.searchPlaceholder,disabled:e.isLoading,class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},null,40,Ne)])]),t("div",Fe,[(s(!0),r(p,null,B(e.filters,a=>(s(),r(p,{key:a.key},[a.type==="select"?(s(),r("div",Pe,[t("label",{for:a.key,class:"sr-only"},f(a.label),9,Ue),t("select",{id:a.key,value:e.modelValue[a.key]||"",onChange:i=>y(a.key,i.target.value),disabled:e.isLoading,class:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},[t("option",Ee,f(a.placeholder||`All ${a.label}`),1),(s(!0),r(p,null,B(a.options,i=>(s(),r("option",{key:i.value,value:i.value},f(i.label),9,Te))),128))],40,Oe)])):a.type==="date-range"?(s(),r("div",Re,[t("input",{value:e.modelValue[`${a.key}_from`]||"",onInput:i=>y(`${a.key}_from`,i.target.value),type:"date",disabled:e.isLoading,class:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},null,40,qe),n[3]||(n[3]=t("span",{class:"text-gray-500"},"to",-1)),t("input",{value:e.modelValue[`${a.key}_to`]||"",onInput:i=>y(`${a.key}_to`,i.target.value),type:"date",disabled:e.isLoading,class:"block px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},null,40,He)])):a.type==="number-range"?(s(),r("div",Je,[t("input",{value:e.modelValue[`${a.key}_min`]||"",onInput:i=>y(`${a.key}_min`,i.target.value),type:"number",placeholder:`Min ${a.label}`,disabled:e.isLoading,class:"block w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},null,40,Qe),n[4]||(n[4]=t("span",{class:"text-gray-500"},"-",-1)),t("input",{value:e.modelValue[`${a.key}_max`]||"",onInput:i=>y(`${a.key}_max`,i.target.value),type:"number",placeholder:`Max ${a.label}`,disabled:e.isLoading,class:"block w-24 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},null,40,Ge)])):a.type==="toggle"?(s(),r("div",Ke,[t("input",{id:a.key,checked:e.modelValue[a.key]||!1,onChange:i=>y(a.key,i.target.checked),type:"checkbox",disabled:e.isLoading,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed"},null,40,We),t("label",{for:a.key,class:"ml-2 text-sm text-gray-700"},f(a.label),9,Xe)])):x("",!0)],64))),128)),e.showReset&&o.value?(s(),r("button",{key:0,onClick:h,disabled:e.isLoading,class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},n[5]||(n[5]=[t("svg",{class:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),w(" Reset ")]),8,Ye)):x("",!0)])]),o.value?(s(),r("div",Ze,[n[7]||(n[7]=t("span",{class:"text-sm text-gray-500"},"Active filters:",-1)),(s(!0),r(p,null,B(e.modelValue,(a,i)=>(s(),r(p,{key:i},[a&&a!==""&&i!=="search"?(s(),r("span",et,[w(f(i.replace("_"," ").replace(/\b\w/g,l=>l.toUpperCase()))+": "+f(a)+" ",1),t("button",{onClick:l=>y(i,""),type:"button",class:"ml-1.5 h-3 w-3 rounded-full inline-flex items-center justify-center text-blue-400 hover:bg-blue-200 hover:text-blue-500 focus:outline-none focus:bg-blue-500 focus:text-white"},n[6]||(n[6]=[t("svg",{class:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8"},[t("path",{"stroke-linecap":"round","stroke-width":"1.5",d:"m1 1 6 6m0-6-6 6"})],-1)]),8,tt)])):x("",!0)],64))),128))])):x("",!0)]))}},lt=["d"],at=["d"],rt="inline-flex items-center justify-center font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",ot={__name:"Button",props:{variant:{type:String,default:"primary"},size:{type:String,default:"md"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},block:{type:Boolean,default:!1},rounded:{type:String,default:"md"},leftIcon:{type:String,default:null},rightIcon:{type:String,default:null},as:{type:String,default:"button"},href:{type:String,default:null},type:{type:String,default:"button"}},emits:["click"],setup(e,{emit:b}){const c=e,v=b,y=$(()=>c.disabled||c.loading),h=$(()=>{const l={primary:"bg-blue-600 hover:bg-blue-700 text-white border border-transparent focus:ring-blue-500",secondary:"bg-gray-600 hover:bg-gray-700 text-white border border-transparent focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white border border-transparent focus:ring-red-500",success:"bg-green-600 hover:bg-green-700 text-white border border-transparent focus:ring-green-500",warning:"bg-yellow-600 hover:bg-yellow-700 text-white border border-transparent focus:ring-yellow-500",ghost:"bg-transparent hover:bg-gray-50 text-gray-700 border border-gray-300 focus:ring-gray-500",link:"bg-transparent hover:bg-transparent text-blue-600 hover:text-blue-700 border-transparent focus:ring-blue-500 underline"};return y.value?"bg-gray-300 text-gray-500 border border-gray-300 cursor-not-allowed":l[c.variant]||l.primary}),o=$(()=>{const l={xs:"px-2.5 py-1.5 text-xs",sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-4 py-2 text-base",xl:"px-6 py-3 text-base"};return l[c.size]||l.md}),d=$(()=>{const l={none:"",sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",full:"rounded-full"};return l[c.rounded]||l.md}),n=$(()=>c.block?"w-full":""),a=$(()=>[rt,h.value,o.value,d.value,n.value].join(" ")),i=l=>{y.value||v("click",l)};return(l,m)=>(s(),S(P(e.as),{href:e.as==="a"?e.href:void 0,type:e.as==="button"?e.type:void 0,disabled:y.value,class:k(a.value),onClick:i},{default:C(()=>[e.leftIcon&&!e.loading?(s(),r("svg",{key:0,class:k(["h-4 w-4",l.$slots.default?e.size==="xs"?"mr-1":"mr-2":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:e.leftIcon,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,lt)],2)):x("",!0),e.loading?(s(),S(N,{key:1,size:(e.size==="xs","sm"),color:e.variant==="ghost"||e.variant==="link"?"gray":"white",class:k(l.$slots.default?e.size==="xs"?"mr-1":"mr-2":"")},null,8,["size","color","class"])):x("",!0),D(l.$slots,"default"),e.rightIcon&&!e.loading?(s(),r("svg",{key:2,class:k(["h-4 w-4",l.$slots.default?e.size==="xs"?"ml-1":"ml-2":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:e.rightIcon,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,at)],2)):x("",!0)]),_:3},8,["href","type","disabled","class"]))}};function nt(e,b={}){const c=L({search:b.search||"",category:b.category||"",status:b.status||"",sort:b.sort||"",per_page:b.per_page||15,...b}),v=L(!1),y=(n={})=>{v.value=!0;const a=Object.fromEntries(Object.entries({...c.value,...n}).filter(([i,l])=>l!==""&&l!==null&&l!==void 0));I.get(route(e),a,{preserveState:!0,replace:!0,onFinish:()=>{v.value=!1}})},h=()=>{c.value={search:"",category:"",status:"",sort:"",per_page:15},y()},o=(n,a)=>{c.value[n]=a,y()};let d;return A(()=>c.value.search,(n,a)=>{n!==a&&(clearTimeout(d),d=setTimeout(()=>{y()},300))}),A([()=>c.value.category,()=>c.value.status,()=>c.value.sort],()=>{y()}),{filters:c,isLoading:v,applyFilters:y,resetFilters:h,updateFilter:o}}function it(){const e=L(!1),b=L(!1);return{isLoading:e,isDeleting:b,deleteItem:async(o,d,n={})=>{const{confirmMessage:a=`Are you sure you want to delete "${o.title||o.name||"this item"}"?`,successMessage:i="Item deleted successfully",onSuccess:l=null,onError:m=null}=n;return confirm(a)?(b.value=!0,I.delete(route(d,o.id),{onSuccess:()=>{b.value=!1,l&&l(),console.log(i)},onError:u=>{b.value=!1,m&&m(u),console.error("Delete failed:",u)}}),!0):!1},bulkDelete:async(o,d,n={})=>{const{confirmMessage:a=`Are you sure you want to delete ${o.length} items?`,successMessage:i=`${o.length} items deleted successfully`,onSuccess:l=null,onError:m=null}=n;return confirm(a)?(b.value=!0,I.delete(route(d),{data:{ids:o.map(u=>u.id)},onSuccess:()=>{b.value=!1,l&&l(),console.log(i)},onError:u=>{b.value=!1,m&&m(u),console.error("Bulk delete failed:",u)}}),!0):!1},toggleStatus:(o,d,n="is_active")=>{e.value=!0,I.patch(route(d,o.id),{[n]:!o[n]},{preserveScroll:!0,onFinish:()=>{e.value=!1}})},duplicate:(o,d)=>{e.value=!0,I.post(route(d,o.id),{},{onFinish:()=>{e.value=!1}})}}}const dt={class:"flex justify-between items-center"},ut={class:"py-12"},ct={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},yt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},xt={__name:"Index",props:{users:Object,filters:Object},setup(e){const b=e,{filters:c,isLoading:v}=nt("admin.users.index",b.filters),{deleteItem:y}=it(),h=[{key:"name",label:"User",type:"avatar",showName:!0,class:"text-sm text-gray-900"},{key:"interested_programs_count",label:"Programs Interest",class:"text-sm text-gray-900"},{key:"payments_count",label:"Payments",class:"text-sm text-gray-900"},{key:"total_spent",label:"Total Spent",type:"currency",class:"text-sm text-gray-900"},{key:"created_at",label:"Joined",type:"date",class:"text-sm text-gray-500"}],o=[{key:"view",label:"View",class:"text-blue-600 hover:text-blue-900"},{key:"edit",label:"Edit",class:"text-indigo-600 hover:text-indigo-900"},{key:"delete",label:"Delete",class:"text-red-600 hover:text-red-900"}],d=[{key:"role",label:"Role",type:"select",options:[{value:"user",label:"User"},{value:"admin",label:"Admin"}]},{key:"is_active",label:"Status",type:"select",options:[{value:"1",label:"Active"},{value:"0",label:"Inactive"}]},{key:"created_at",label:"Joined Date",type:"date-range"}],n=({action:i,item:l})=>{if(!l||!l.id){console.error("Invalid item data:",l);return}switch(i){case"view":window.location.href=route("admin.users.show",l.id);break;case"edit":window.location.href=route("admin.users.edit",l.id);break;case"delete":y(l,"admin.users.destroy",{confirmMessage:`Are you sure you want to delete user "${l.name||"this user"}"?`});break}},a=()=>{c.value={search:"",role:"",is_active:"",created_at_from:"",created_at_to:""}};return(i,l)=>(s(),r(p,null,[z(_(U),{title:"Users"}),z(F,null,{header:C(()=>[t("div",dt,[l[2]||(l[2]=t("div",null,[t("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Users Management "),t("p",{class:"mt-1 text-sm text-gray-600"}," Manage user accounts and permissions ")],-1)),z(ot,{variant:"primary",href:i.route("admin.users.create"),as:"a","left-icon":"M12 4v16m8-8H4"},{default:C(()=>l[1]||(l[1]=[w(" Add User ")])),_:1,__:[1]},8,["href"])])]),default:C(()=>[t("div",ut,[t("div",ct,[t("div",yt,[z(st,{modelValue:_(c),"onUpdate:modelValue":l[0]||(l[0]=m=>O(c)?c.value=m:null),"search-placeholder":"Search users by name or email...",filters:d,"is-loading":_(v),onReset:a},null,8,["modelValue","is-loading"]),z(Ie,{items:e.users,columns:h,actions:o,"is-loading":_(v),"empty-message":"No users found. Create your first user to get started.",onAction:n},null,8,["items","is-loading"])])])])]),_:1})],64))}};export{xt as default};
