import{l as $,s as M,c as i,o as a,a as u,u as x,g as T,w as p,b as e,h as d,S as g,d as h,i as V,v as j,F as f,r as b,t as o,q as B,n as m,e as N,Q as v}from"./app-CujCkvLJ.js";import{_ as I}from"./AdminLayout-Cw2MKWdw.js";import"./BaseLayout-Czs18eZX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},U={class:"p-6 bg-white border-b border-gray-200"},F={class:"flex items-center justify-between mb-6"},W={class:"mb-6"},O={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap"},P={class:"text-sm font-medium text-gray-900"},R={class:"text-sm text-gray-500"},J={class:"px-6 py-4"},K={class:"text-sm font-medium text-gray-900"},X={key:0,class:"text-sm text-gray-500"},Y={key:1,class:"text-xs text-gray-400"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"text-sm text-gray-900"},te={class:"text-sm text-gray-500"},se={key:0,class:"text-xs text-gray-400"},re={class:"px-6 py-4 whitespace-nowrap"},oe={class:"text-sm font-medium text-gray-900"},ae={class:"w-full bg-gray-200 rounded-full h-2 mt-1"},ie={class:"px-6 py-4 whitespace-nowrap"},le={class:"text-sm font-medium text-gray-900"},ne={class:"px-6 py-4 whitespace-nowrap"},de={key:0,class:"mt-1"},ce={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ue={class:"flex items-center justify-end space-x-2"},xe=["onClick"],pe=["onClick"],ge={key:0,class:"mt-6"},me={class:"flex items-center justify-between"},ye={class:"flex items-center"},he={class:"text-sm text-gray-700"},fe={class:"flex items-center space-x-2"},ke={__name:"Index",props:{sessions:Object,filters:Object},setup(n){const y=n,l=$(y.filters.search||""),w=M(()=>l.value?y.sessions.data.filter(s=>{var r,t,c;return s.location.toLowerCase().includes(l.value.toLowerCase())||((r=s.city)==null?void 0:r.toLowerCase().includes(l.value.toLowerCase()))||((t=s.country)==null?void 0:t.toLowerCase().includes(l.value.toLowerCase()))||((c=s.program)==null?void 0:c.title.toLowerCase().includes(l.value.toLowerCase()))}):y.sessions.data),k=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),C=s=>{switch(s){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-green-100 text-green-800 border-green-200"}},L=s=>s.remaining_spots<=5?"ðŸ”¥ CRITICAL":s.remaining_spots<=10?"âš¡ HIGH DEMAND":"âœ… AVAILABLE",S=s=>{confirm("Are you sure you want to delete this workshop session?")&&v.delete(route("admin.workshop-sessions.destroy",s))},A=s=>{confirm("Are you sure you want to duplicate this workshop session? A copy will be created with updated details.")&&v.post(route("admin.workshop-sessions.duplicate",s))};return(s,r)=>(a(),i(f,null,[u(x(T),{title:"Workshop Sessions Management"}),u(I,null,{default:p(()=>[e("div",z,[e("div",E,[e("div",H,[e("div",U,[e("div",F,[r[2]||(r[2]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900"},"Workshop Sessions"),e("p",{class:"text-gray-600 mt-1"},"Manage workshop sessions across multiple locations")],-1)),u(x(g),{href:s.route("admin.workshop-sessions.create"),class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors"},{default:p(()=>r[1]||(r[1]=[h(" âž• Add New Session ")])),_:1,__:[1]},8,["href"])]),e("div",W,[V(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>l.value=t),type:"text",placeholder:"Search by location, city, country, or workshop name...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[j,l.value]])]),e("div",O,[e("table",Q,[r[6]||(r[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Workshop"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Location"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date & Time"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Availability"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Price"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",q,[(a(!0),i(f,null,b(w.value,t=>{var c,_;return a(),i("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",G,[e("div",P,o((c=t.program)==null?void 0:c.title),1),e("div",R,o((_=t.program)==null?void 0:_.slug),1)]),e("td",J,[e("div",K,o(t.location),1),t.venue_name?(a(),i("div",X,o(t.venue_name),1)):d("",!0),t.city||t.country?(a(),i("div",Y,o([t.city,t.country].filter(Boolean).join(", ")),1)):d("",!0)]),e("td",Z,[e("div",ee,o(k(t.date)),1),e("div",te,o(t.time),1),t.timezone?(a(),i("div",se,o(t.timezone),1)):d("",!0)]),e("td",re,[e("div",oe,o(t.remaining_spots)+"/"+o(t.available_spots)+" available ",1),e("div",ae,[e("div",{class:m(`h-2 rounded-full ${t.remaining_spots<=5?"bg-red-500":t.remaining_spots<=10?"bg-orange-500":"bg-green-500"}`),style:B({width:`${t.booked_spots/t.available_spots*100}%`})},null,6)])]),e("td",ie,[e("div",le,o(t.formatted_effective_price),1),t.price_difference!==0?(a(),i("div",{key:0,class:m(["text-xs",t.price_difference>0?"text-purple-600":"text-green-600"])},o(t.price_difference>0?"+":"")+"$"+o(Math.abs(t.price_difference))+" vs base ",3)):d("",!0)]),e("td",ne,[e("span",{class:m(`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${C(t.urgency_level)}`)},o(L(t)),3),t.is_featured?(a(),i("div",de,r[3]||(r[3]=[e("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200"}," â­ Featured ",-1)]))):d("",!0)]),e("td",ce,[e("div",ue,[u(x(g),{href:s.route("admin.workshop-sessions.show",t.id),class:"text-gray-600 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded transition-colors text-sm"},{default:p(()=>r[4]||(r[4]=[h(" View ")])),_:2,__:[4]},1032,["href"]),u(x(g),{href:s.route("admin.workshop-sessions.edit",t.id),class:"text-gray-600 hover:text-gray-900 bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded transition-colors text-sm"},{default:p(()=>r[5]||(r[5]=[h(" Edit ")])),_:2,__:[5]},1032,["href"]),e("button",{onClick:D=>A(t.id),class:"text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded transition-colors text-sm",title:"Duplicate this session"}," Duplicate ",8,xe),e("button",{onClick:D=>S(t.id),class:"text-red-600 hover:text-red-800 bg-gray-100 hover:bg-red-50 px-3 py-1 rounded transition-colors text-sm"}," Delete ",8,pe)])])])}),128))])])]),n.sessions.links?(a(),i("div",ge,[e("nav",me,[e("div",ye,[e("p",he," Showing "+o(n.sessions.from)+" to "+o(n.sessions.to)+" of "+o(n.sessions.total)+" results ",1)]),e("div",fe,[(a(!0),i(f,null,b(n.sessions.links,t=>(a(),N(x(g),{key:t.label,href:t.url,innerHTML:t.label,class:m(`px-3 py-2 text-sm rounded-md transition-colors ${t.active?"bg-blue-600 text-white":t.url?"text-gray-500 hover:text-gray-700 hover:bg-gray-100":"text-gray-300 cursor-not-allowed"}`)},null,8,["href","innerHTML","class"]))),128))])])])):d("",!0)])])])])]),_:1})],64))}};export{ke as default};
